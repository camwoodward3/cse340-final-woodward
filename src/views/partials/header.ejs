<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/styles.css" />
    <script src="js/main.js" defer></script>
        <% if (NODE_ENV.includes('dev')) { %>
            <script>
                const host = window.location.hostname;
                const currentPort = window.location.port;
                const wsPort = currentPort ? (parseInt(currentPort) + 1) : 3001;
                const ws = new WebSocket(`ws://${host}:${wsPort}`);
                ws.onmessage = () => {
                    if (event.data === "reload") {
                        console.log("File change detected - reloading...");
                        window.location.reload();
                    }
                };
            </script>
        <% } %>
</head>
<body>
    <header>
        
        <h1>Star Wars Website</h1>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/contact">Contact</a></li>
            <li><a href="/index">Jedi</a></li>
            <li><a href="/sith">Sith</a></li>
            <li><a href="/clones">Clones</a></li>
            <li><a href="mandalorians">Mandalorians</a></li>
        </ul>
    </header>
</body>
</html>